\chapter{丸め誤差・情報落ち・桁落ちについての基礎知識}
\label{chap:基礎知識2}
\section{丸め誤差}
丸め誤差について説明する．
丸め誤差とは，計算機を用いて数を計算する際に用いる誤差である．
前章で説明したように計算機で用いられる数は，表現出来る数に限りがある．
そのため，計算機の中で表現できない数を計算の過程で用いないといけない場合，計算機ではその数に近い値を用いて表す．
真の値が$x_true$であり，計算機の中で表現できる数で$x_{true}$い一番近い数を$x$とすると，そのときの丸め誤差$e_{round}$は，
\begin{equation}
    e_{round} = x_{true} - x
\end{equation}
と表せる．
簡単のため，計算機で扱われる2進数ではなく10進数を用いた場合を考える.
例えば，計算機では，小数点２桁までしか表現できないとすると，$\pi$という数は，計算機の中で
\begin{equation}
    \pi^{\ast} = 3.14
\end{equation}
という数で扱うことになる．
そして，丸め誤差$e_{round}$は,
\begin{equation}
    e_{round} = \pi - \pi^{\ast} = 0.00159265\dots
\end{equation}
となる．
丸め誤差は，浮動小数点の場合 \\
固定小数点の場合

\section{情報落ち}
情報落ちとは，浮動小数点数を用いて計算する際に生じる現象である．
浮動小数点数の仮数部は決められているため，浮動小数点数で絶対値が非常に大きな数と非常に小さな数を足し合わせることを考える．
簡単のため，計算機で扱われる2進数ではなく10進数を用いた場合を考える．
浮動小数点数の仮数部が小数点3桁までしか表現できない場合を考える．
a,bを浮動小数点数で表せる数として，$|a| >> |b|$とする．例えば
\begin{align}
    a &= 1.000 \times 10^{-2} \\
    b &= 1.000 \times 10^{3}
\end{align}
として，
\begin{equation}
    a + b
\end{equation}
を考えると，
\begin{equation}
    a + b = 1.001 \times 10^{-2} + 1.000 \times 10^{3} = 0.01 + 1000 = 1000.01 \backsimeq 1.000 \times 10^{3}
\end{equation}
となり，$a$を足したという情報が失われてしまうことになる．
このような現象を情報落ちという．

\section{桁落ち}
桁落ちとは，浮動小数点数を用いて計算する際に生じる現象である．
浮動小数点で絶対値が非常に近い２つの数を引くことを考える．
簡単のため，計算機で扱われる2進数はなく10進数を用いた場合を考える．
浮動小数点数の仮数部が小数点3桁までしか表現できない場合を考える．
a,bを浮動小数点数で表せる数として，$|a - b| << 1$とする．
例えば，
\begin{align}
    a &= 1.234 \times 10^{-2} \\
    b &= 1.233 \times 10^{-2}
\end{align}
として，
\begin{equation}
    a - b
\end{equation}
を考えると，
\begin{align}
    a - b = 1.234 \times 10^{-2} - 1.233 \times 10^{-2} = 0.01234 - 0.01233 = 0.00001 = 1.000 \times 10^{-5}
\end{align}
となり，計算前の$a,b$は仮数部に4桁の情報があったのに対し，計算後の$a-b$の結果は仮数部の情報が1桁になってしまっている．
このような現象を桁落ちという．